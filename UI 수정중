<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="favicon.ico" type="image/x-icon" />
    <title>장비별 부자재 계산기 - 장비선택 작동 버전</title>
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;600&display=swap');
      body {
        font-family: 'Pretendard', sans-serif;
        margin: 0;
        background-color: #f0f4f9;
        color: #1f2937;
      }
      .container {
        display: flex;
        height: 100vh;
      }
      .sidebar {
        width: 240px;
        background-color: #f9fafb;
        border-right: 1px solid #e5e7eb;
        padding: 20px;
      }
      .sidebar h2 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 16px;
        color: #6b7280;
      }
      .tab-btn {
        display: block;
        width: 100%;
        text-align: left;
        padding: 12px 16px;
        margin-bottom: 8px;
        background-color: white;
        border: 1px solid #e5e7eb;
        border-radius: 8px;
        cursor: pointer;
        font-size: 15px;
        font-weight: 500;
      }
      .tab-btn:hover {
        background-color: #eff6ff;
      }
      .tab-btn.active {
        border-color: #3b82f6;
        background-color: #dbeafe;
        color: #1d4ed8;
      }
      .content {
        flex: 1;
        padding: 40px;
        overflow-y: auto;
      }
      .tab-content {
        display: none;
      }
      .tab-content.active {
        display: block;
      }
      /* 헤더 스타일 */
      h3 {
        font-size: 22px;
        font-weight: 700;
        color: #2563eb;
        margin-bottom: 16px;
        margin-top: 0;
        min-height: 40px;
      }
      h4 {
        font-size: 18px;
        font-weight: 600;
        color: #374151;
        margin-bottom: 12px;
      }
      .form-group {
        display: flex;
        align-items: center;
        margin-bottom: 16px;
      }
      .form-group label {
        width: 350px;
        font-weight: 500;
      }
      .form-group input {
        padding: 10px;
        font-size: 1rem;
        width: 100px;
        border: 1px solid #cbd5e1;
        border-radius: 8px;
      }
      .form-group input[type="checkbox"] {
        width: auto;
      }
      .zone-summary {
        margin: 20px 0;
        padding: 10px;
        background-color: #fff;
        border-left: 4px solid #2563eb;
        border-radius: 8px;
        padding-left: 16px;
        font-weight: 500;
      }
      #summary,
      #cable-summary,
      #output-summary {
        background-color: #fff;
        border: 1px solid #cbd5e1;
        padding: 20px;
        margin-top: 24px;
        border-radius: 12px;
        white-space: pre-line;
      }
      #summary h4,
      #cable-summary h4,
      #output-summary h4 {
        margin-bottom: 12px;
        color: #1e40af;
      }
      .action-buttons {
        margin-top: 20px;
        display: flex;
        gap: 12px;
      }
      .action-buttons button {
        background-color: #3b82f6;
        color: white;
        border: none;
        border-radius: 8px;
        padding: 10px 20px;
        font-size: 14px;
        font-weight: 600;
        cursor: pointer;
      }
      .action-buttons button:hover {
        background-color: #2563eb;
      }
      .action-buttons .reset-btn {
  background-color: red;  /* 빨간색 배경 */
  color: white;           /* 흰색 텍스트 */
  border: none;
  border-radius: 8px;
  padding: 10px 20px;
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
}
.action-buttons .reset-btn:hover {
  background-color: darkred;  /* 마우스 오버 시 어두운 빨간색 */
}

/* 모든 h4 요소의 기본 margin을 조정 (예시: 상하 0.5em) */
h4 {
  margin: 0.3em 0;
}

/* disclaimer 클래스가 붙은 h4 요소 */
#output-summary h4.disclaimer {
  margin-top: 0.2em;      
  font-size: 0.8em;       
  font-style: italic;
  color: grey !important;
}
.logo {
  font-size: 24px;         /* 로고 글씨 크기 (원하는 크기로 조정 가능) */
  font-weight: bold;       /* 두껍게 */
  text-align: center;      /* 가운데 정렬 */
  margin-bottom: 20px;     /* 하단 여백 */
  color: #2563eb;          /* 텍스트 색상 (원하는 색으로 변경 가능) */
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.2); /* 약간의 그림자 효과로 입체감을 줌 */
  letter-spacing: 1px;      /* 글자 간격 조금 조정 */
}
      /* 결제존 탭 내부 flex 컨테이너: 좌측(결제존 구성) / 우측(PC/노트북 구성) */
      .flex-container {
        display: flex;
        gap: 20px;
        align-items: flex-start;
      }
      .left-col,
      .right-col {
        flex: 1;
        display: flex;
        flex-direction: column;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- 좌측 사이드바 -->
      <div class="sidebar">
        <div class="logo">아이샵케어<br> 장비별 부자재 계산기</div>
        <h2>장비 구역 선택</h2>
        <button class="tab-btn active" data-target="pay">결제카운터</button>
        <button class="tab-btn" data-target="order">오더포스 구역</button>
        <button class="tab-btn" data-target="kiosk">키오스크 구역</button>
        <button class="tab-btn" data-target="minikiosk">미니키오스크 구역</button>
      </div>
      <!-- 우측 콘텐츠 영역 -->
      <div class="content">
        <!-- 결제존 탭 -->
        <div id="pay" class="tab-content active">
          <div class="flex-container">
            <!-- 왼쪽 컬럼: 결제존 구성 -->
            <div class="left-col">
              <h3>결제카운터 구성</h3>
              <div class="form-group">
                <label>포스기:</label>
                <input type="number" id="pay_pos" value="0">
              </div>
              <div class="form-group">
                <label>태블릿:</label>
                <input type="number" id="pay_tablet" value="0">
              </div>
              <div class="form-group">
                <label>프론트(W):</label>
                <input type="number" id="pay_front_w" value="0">
              </div>
              <div class="form-group">
                <label>프론트(B):</label>
                <input type="number" id="pay_front_b" value="0">
              </div>
              <div class="form-group">
                <label>터미널:</label>
                <input type="number" id="pay_terminal" value="0">
              </div>
              <div class="form-group">
                <label>유선프린터(W)(영수용):</label>
                <input type="number" id="pay_printer_200w" value="0">
              </div>
              <div class="form-group">
                <label>유선프린터(B)(영수용):</label>
                <input type="number" id="pay_printer_200b" value="0">
              </div>
              <div class="form-group">
                <label>유선프린터(W)(주방용):</label>
                <input type="number" id="pay_printer_200_w" value="0">
              </div>
              <div class="form-group">
                <label>유선프린터(B)(주방용):</label>
                <input type="number" id="pay_printer_200_b" value="0">
              </div>
              <div class="form-group">
                <label>TS-400프린터:</label>
                <input type="number" id="pay_printer_400" value="0">
              </div>
              <div class="form-group">
                <label>토스프린터:</label>
                <input type="number" id="pay_printer_toss" value="0">
              </div>
              <div class="form-group">
                <label>KS-1060C:</label>
                <input type="number" id="pay_ks" value="0">
              </div>
              <div class="form-group">
                <label>NC-8000:</label>
                <input type="number" id="pay_nc" value="0">
              </div>
              <div class="form-group">
                <label>KIS-1421:</label>
                <input type="number" id="pay_kis" value="0">
              </div>
              <div class="form-group">
                <label>MPOS-1700:</label>
                <input type="number" id="pay_kpn" value="0">
              </div>
              <div class="form-group">
                <label>DAOU-9300:</label>
                <input type="number" id="pay_daou" value="0">
              </div>
              <!-- 금전함 추가 -->
              <div class="form-group">
                <label>금전함 소형(W):</label>
                <input type="number" id="pay_moneybox_small_w" value="0">
              </div>
              <div class="form-group">
                <label>금전함 소형(B):</label>
                <input type="number" id="pay_moneybox_small_b" value="0">
              </div>
              <div class="form-group">
                <label>금전함 대형(W):</label>
                <input type="number" id="pay_moneybox_large_w" value="0">
              </div>
              <div class="form-group">
                <label>금전함 대형(B):</label>
                <input type="number" id="pay_moneybox_large_b" value="0">
              </div>
            </div>
            <!-- 오른쪽 컬럼: PC/노트북 구성 -->
            <div class="right-col">
              <h3>PC/노트북 구성</h3>
              <h4>&lt;핸드sos, 통통통 등 CRM사용 시&gt;</h4>
              <div class="form-group">
                <label for="pay_hand">PC/노트북+프론트+KS-1060C:</label>
                <input type="checkbox" id="pay_hand1">
              </div>
              <div class="form-group">
                <label for="pay_hand">PC/노트북+프론트+NC-8000:</label>
                <input type="checkbox" id="pay_hand2">
              </div>
              <div class="form-group">
                <label for="pay_hand">PC/노트북+프론트+KIS-1421:</label>
                <input type="checkbox" id="pay_hand3">
              </div>
              <div class="form-group">
                <label for="pay_hand">PC/노트북+프론트+MPOS-1700:</label>
                <input type="checkbox" id="pay_hand4">
              </div>
              <div class="form-group">
                <label for="pay_hand">PC/노트북+프론트+DAOU-9300:</label>
                <input type="checkbox" id="pay_hand5">
              </div>
              <h4>&lt;배달3사 사용 시&gt;</h4>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+KS-1060C:</label>
                <input type="checkbox" id="pay_del1">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+NC-8000:</label>
                <input type="checkbox" id="pay_del2">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+KIS-1421:</label>
                <input type="checkbox" id="pay_del3">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+MPOS-1700:</label>
                <input type="checkbox" id="pay_del4">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+DAOU-9300:</label>
                <input type="checkbox" id="pay_del5">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+유선프린터(W):</label>
                <input type="checkbox" id="pay_del6">
              </div>
              <div class="form-group">
                <label for="pay_del">PC/노트북+프론트+유선프린터(B):</label>
                <input type="checkbox" id="pay_del7">
              </div>
            </div>
          </div>
          <div class="zone-summary" id="summary-pay">결제카운터 요약: 없음</div>
          <div class="zone-summary" id="accessories-pay">결제카운터 부자재: 없음</div>
        </div>
        
        <!-- 오더존 탭 -->
        <div id="order" class="tab-content">
          <h3>오더포스 구역 구성</h3>
          <div class="form-group">
            <label>포스기:</label>
            <input type="number" id="order_pos" value="0">
          </div>
          <div class="form-group">
            <label>태블릿:</label>
            <input type="number" id="order_tablet" value="0">
          </div>
          <div class="form-group">
            <label>유선프린터(W):</label>
            <input type="number" id="order_printer_200w" value="0">
          </div>
          <div class="form-group">
            <label>유선프린터(B):</label>
            <input type="number" id="order_printer_200b" value="0">
          </div>
          <div class="form-group">
            <label>TS-400:</label>
            <input type="number" id="order_printer_400" value="0">
          </div>
          <div class="form-group">
            <label>토스프린터:</label>
            <input type="number" id="order_printer_toss" value="0">
          </div>
          <div class="zone-summary" id="summary-order">오더포스 구역 요약: 없음</div>
          <div class="zone-summary" id="accessories-order">오더포스 구역 부자재: 없음</div>
        </div>
        
        <!-- 키오스크존 탭 (새로운 항목으로 교체) -->
        <div id="kiosk" class="tab-content">
          <h3>키오스크 구역 구성</h3>
          <!-- &lt;키오스크&gt; 그룹 -->
          <h4>&lt;키오스크&gt;</h4>
          <div class="form-group">
            <label>IMU KIOSK D(KOVAN, KIS, DAOU)타입 스탠드형:</label>
            <input type="number" id="kiosk_D_stand" value="0">
          </div>
          <div class="form-group">
            <label>IMU KIOSK D(KOVAN, KIS, DAOU)타입 데스크형:</label>
            <input type="number" id="kiosk_D_desk" value="0">
          </div>
          <div class="form-group">
            <label>IMU KIOSK E(NICE)타입 스탠드형:</label>
            <input type="number" id="kiosk_E_stand" value="0">
          </div>
          <div class="form-group">
            <label>IMU KIOSK E(NICE)타입 데스크형:</label>
            <input type="number" id="kiosk_E_desk" value="0">
          </div>
          <div class="form-group">
            <label>IMU KIOSK G(KSNET)타입 스탠드형:</label>
            <input type="number" id="kiosk_G_stand" value="0">
          </div>
          <div class="form-group">
            <label>IMU KIOSK G(KSNET)타입 데스크형:</label>
            <input type="number" id="kiosk_G_desk" value="0">
          </div>
          
          <!-- &lt;리더기&gt; 그룹 -->
          <h4>&lt;리더기&gt;</h4>
          <div class="form-group">
            <label>SPD-800 (KOVAN) (D타입):</label>
            <input type="number" id="kiosk_leader1" value="0">
          </div>
          <div class="form-group">
            <label>SP420QN (KIS) (D타입):</label>
            <input type="number" id="kiosk_leader2" value="0">
          </div>
          <div class="form-group">
            <label>DD-MP2000 (DAOU) (D타입):</label>
            <input type="number" id="kiosk_leader3" value="0">
          </div>
          <div class="form-group">
            <label>NK-2500QN (NICE) (E타입):</label>
            <input type="number" id="kiosk_leader4" value="0">
          </div>
          <div class="form-group">
            <label>KSP-S8 (KSNET) (G타입):</label>
            <input type="number" id="kiosk_leader5" value="0">
          </div>
          <div class="zone-summary" id="summary-kiosk">키오스 구역 요약: 없음</div>
          <div class="zone-summary" id="accessories-kiosk">키오스크 구역 부자재: 없음</div>
        </div>
        
        <!-- 미니키오스크존 탭 -->
        <div id="minikiosk" class="tab-content">
          <h3>미니키오스크 구역 구성</h3>
          <div class="form-group">
            <label>프론트(W):</label>
            <input type="number" id="minikiosk_front_w" value="0">
          </div>
          <div class="form-group">
            <label>프론트(B):</label>
            <input type="number" id="minikiosk_front_b" value="0">
          </div>
          <div class="form-group">
            <label>유선프린터(W):</label>
            <input type="number" id="minikiosk_printer_200w" value="0">
          </div>
          <div class="form-group">
            <label>유선프린터(B):</label>
            <input type="number" id="minikiosk_printer_200b" value="0">
          </div>
          <div class="form-group">
            <label>TS-400:</label>
            <input type="number" id="minikiosk_printer_400" value="0">
          </div>
          <div class="form-group">
            <label>토스프린터:</label>
            <input type="number" id="minikiosk_printer_toss" value="0">
          </div>
          <div class="zone-summary" id="summary-minikiosk">미니키오스크 구역 요약: 없음</div>
          <div class="zone-summary" id="accessories-minikiosk">미니키오스크 구역 부자재: 없음</div>
        </div>
        
        <!-- 버튼 및 출력 영역 -->
        <div class="action-buttons">
          <button onclick="generateSummary()">장비선택</button>
          <button class="reset-btn" onclick="resetAll()">전체 리셋</button>
        </div>
        <div id="summary">
          <h4>장비 종류 (구역별)</h4>
          <div id="summary-content">장비가 선택되지 않았습니다.</div>
        </div>
        <div id="cable-summary">
          <h4>부자재 종류 (전체 집계)</h4>
          <div id="cable-summary-content">아직 계산된 부자재가 없습니다.</div>
        </div>
        <div id="output-summary">
        <h4 class="disclaimer">
                이 정보는 참고용으로 제공되는 것이며, 실제 적용 전에는 반드시 추가 확인(더블체크)을 하시기 바랍니다.</h4>  
          <h4>전체 장비+부자재</h4>
          <div id="output-summary-content">출고 목록이 생성되지 않았습니다.</div>
        </div>
      </div>
    </div>
    
    <script>
      // 탭 전환 처리: 탭 클릭 시 활성화 (탭 전환 시 요약은 자동 출력하지 않음)
      const tabs = document.querySelectorAll(".tab-btn");
      const contents = document.querySelectorAll(".tab-content");
      tabs.forEach(tab => {
        tab.addEventListener("click", () => {
          tabs.forEach(t => t.classList.remove("active"));
          contents.forEach(c => c.classList.remove("active"));
          tab.classList.add("active");
          document.getElementById(tab.dataset.target).classList.add("active");
          // 탭 전환 시 자동 출력은 하지 않음.
        });
      });
      
      // 부자재 매핑: 각 존별 (필요 시 부자재를 추가로 매핑)
      const accessoryMapping = {
        "pay": {
          "포스기": "랜선, RJ9 to RS232",
          "태블릿": "",
          "프론트(W)": "",
          "프론트(B)": "",
          "터미널": "RJ9 to RJ9",
          "유선프린터(W)(영수용)": "프린터 연결 젠더(주황), 영수증 2봉",
          "유선프린터(B)(영수용)": "프린터 연결 젠더(주황), 영수증 2봉",
          "유선프린터(W)(주방용)": "영수증 2봉",
          "유선프린터(B)(주방용)": "영수증 2봉",
          "TS-400프린터": "영수증 2봉",
          "토스프린터": "영수증 2봉",
          "KS-1060C": "랜선, 캣프선, Y 케이블, 영수증 2봉",
          "NC-8000": "랜선, 캣프선, 영수증 2봉",
          "KIS-1421": "랜선, 캣프선, 영수증 2봉",
          "MPOS-1700": "랜선, 캣프선, 영수증 2봉",
          "DAOU-9300": "랜선, 캣프선, 영수증 2봉",
          "금전함 소형(W)": "",
          "금전함 소형(B)": "",
          "금전함 대형(W)": "",
          "금전함 대형(B)": "",
          "영수증 2봉": ""
        },
        "order": {
          "포스기": "랜선",
          "태블릿": "",
          "유선프린터(W)": "영수증 2봉",
          "유선프린터(B)": "영수증 2봉",
          "TS-400": "영수증 2봉",
          "토스프린터": "영수증 2봉"
        },
        "kiosk": {
          "IMU KIOSK D(KOVAN, KIS, DAOU)타입 스탠드형": "랜선, 영수증 2봉",
          "IMU KIOSK D(KOVAN, KIS, DAOU)타입 데스크형": "랜선, 영수증 2봉",
          "IMU KIOSK E(NICE)타입 스탠드형": "랜선, 영수증 2봉",
          "IMU KIOSK E(NICE)타입 데스크형": "랜선, 영수증 2봉",
          "IMU KIOSK G(KSNET)타입 스탠드형": "랜선, 영수증 2봉",
          "IMU KIOSK G(KSNET)타입 데스크형": "랜선, 영수증 2봉",
          "SPD-800 (KOVAN) (D타입)": "",
          "SP420QN (KIS) (D타입)": "",
          "DD-MP2000 (DAOU) (D타입)": "",
          "NK-2500QN (NICE) (E타입)": "",
          "KSP-S8 (KSNET) (G타입)": ""
        },
        "minikiosk": {
          "프론트(w)": "",
          "프론트(b)": "",
          "유선프린터(W)": "프린터 연결 젠더(주황), RJ9 to RS232, 영수증 2봉",
          "유선프린터(B)": "프린터 연결 젠더(주황), RJ9 to RS232, 영수증 2봉",
          "TS-400": "영수증 2봉",
          "토스프린터": "C to RJ9, 영수증 2봉"
        }
      };
      
      // 각 구역의 선택된 장비 및 부자재 요약 함수
      function summarizeZone(prefix, label, isForSummary) {
        const ids = Array.from(document.querySelectorAll(`#${prefix} input`)).map(el => el.id);
        const parts = [];
        let accessories = [];
        const mapping = accessoryMapping[prefix] || {};
      
        ids.forEach(id => {
          const el = document.getElementById(id);
          if (!el) return;
      
          if (el.type === "checkbox" && prefix === "pay") {
            if (id === "pay_hand1" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "프론트(W), KS-1060C", count: 1 });
            } else if (id === "pay_hand2" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+NC-8000", count: 1 });
            } else if (id === "pay_hand3" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+KIS-1421", count: 1 });
            } else if (id === "pay_hand4" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+MPOS-1700", count: 1 });
            } else if (id === "pay_hand5" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+DAOU-9300", count: 1 });
            }
            // pay_del1~pay_del5: pay_hand와 동일 처리
            else if (id === "pay_del1" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "프론트(W), KS-1060C", count: 1 });
            } else if (id === "pay_del2" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+NC-8000", count: 1 });
            } else if (id === "pay_del3" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+KIS-1421", count: 1 });
            } else if (id === "pay_del4" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+MPOS-1700", count: 1 });
            } else if (id === "pay_del5" && el.checked) {
              accessories.push({ name: "USB to RS232", count: 1 });
              accessories.push({ name: "BRD케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+DAOU-9300", count: 1 });
            } else if (id === "pay_del6" && el.checked) {
              accessories.push({ name: "A-B 케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+유선프린터(W)", count: 1 });
            } else if (id === "pay_del7" && el.checked) {
              accessories.push({ name: "A-B 케이블", count: 1 });
              parts.push({ name: "PC/노트북+프론트+유선프린터(B)", count: 1 });
            }
          } else if (el.type === "number") {
            const value = parseInt(el.value);
            if (value > 0) {
              const name = el.previousElementSibling.textContent.replace(":", "").trim();
              parts.push({ name: name, count: value });
              if (mapping[name] && mapping[name].trim() !== "") {
                const accItems = mapping[name].split(",");
                accItems.forEach(item => {
                  const accName = item.trim();
                  accessories.push({ name: accName, count: value });
                });
              }
            }
          }
        });
              
        if (prefix === "pay") {
          const posVal = parseInt(document.getElementById("pay_pos").value) || 0;
          const ncVal = parseInt(document.getElementById("pay_nc").value) || 0;
          const kisVal = parseInt(document.getElementById("pay_kis").value) || 0;
          const kpnVal = parseInt(document.getElementById("pay_kpn").value) || 0;
          const daouVal = parseInt(document.getElementById("pay_daou").value) || 0;
          const catSum = ncVal + kisVal + kpnVal + daouVal;
          if (posVal > 0 && catSum > 0) {
            const n = Math.floor((posVal + catSum) / 2);
            accessories.push({ name: "BRD케이블", count: n });
          }
          // 영수용 유선프린터 계산 (프론트(W)와 프론트(B)를 하나로, 유선프린터(W)(영수용)와 유선프린터(B)(영수용)도 하나로 취급)
          let tabletVal = parseInt(document.getElementById("pay_tablet").value) || 0;
          let frontWVal = parseInt(document.getElementById("pay_front_w").value) || 0;
          let frontBVal = parseInt(document.getElementById("pay_front_b").value) || 0;
          let printerW_YVal = parseInt(document.getElementById("pay_printer_200w").value) || 0;
          let printerB_YVal = parseInt(document.getElementById("pay_printer_200b").value) || 0;
          let combinedFront = frontWVal + frontBVal;
          let combinedPrinter = printerW_YVal + printerB_YVal;
          if (tabletVal > 0 && combinedFront > 0 && combinedPrinter > 0) {
            let n = Math.floor((tabletVal + combinedFront + combinedPrinter) / 3);
            accessories.push({ name: "RJ9 toRS232", count: n });
          }
        }
      
        const zoneText = parts.length
          ? `${label} : ${parts.map(item => `${item.name} ${item.count}EA`).join(", ")}`
          : `${label} : 없음`;
        document.getElementById(`summary-${prefix}`).innerText = zoneText;
      
        if (accessories.length) {
          document.getElementById(`accessories-${prefix}`).innerText =
            accessories.map(item => `${item.name} ${item.count}EA`).join("\n");
        } else {
          document.getElementById(`accessories-${prefix}`).innerText = "부자재가 계산되지 않았습니다.";
        }
      
        return isForSummary ? { parts, accessories } : [];
      }
      
      function generateSummary() {
        const zones = [
          { prefix: "pay", label: "결제카운터", isForSummary: true },
          { prefix: "order", label: "오더포스 구역", isForSummary: true },
          { prefix: "kiosk", label: "키오스크 구역", isForSummary: true },
          { prefix: "minikiosk", label: "미니키오스크 구역", isForSummary: true }
        ];
      
        let equipmentSummary = "";
        zones.forEach(z => {
          const zoneData = summarizeZone(z.prefix, z.label, z.isForSummary);
          equipmentSummary += `${z.label} : `;
          equipmentSummary += zoneData.parts.length > 0 
            ? zoneData.parts.map(item => `${item.name} ${item.count}EA`).join(", ") 
            : "없음";
          equipmentSummary += "\n";
        });
        document.getElementById("summary-content").innerText = equipmentSummary;
      
        let aggregatedAccessories = [];
        zones.forEach(z => {
          const zoneData = summarizeZone(z.prefix, z.label, z.isForSummary);
          zoneData.accessories.forEach(item => {
            const exist = aggregatedAccessories.find(acc => acc.name === item.name);
            if (exist) {
              exist.count += item.count;
            } else {
              aggregatedAccessories.push({ name: item.name, count: item.count });
            }
          });
        });
        document.getElementById("cable-summary-content").innerText =
          aggregatedAccessories.length
            ? aggregatedAccessories.map(item => `${item.name} ${item.count}EA`).join(", ")
            : "부자재 종류가 없습니다.";
      
        let aggregatedEquipment = [];
        zones.forEach(z => {
          const zoneData = summarizeZone(z.prefix, z.label, z.isForSummary);
          zoneData.parts.forEach(item => {
            let normalizedName = item.name;
            // 유선프린터 관련 항목은 이름을 정규화하여 합칩니다.
            if (normalizedName.startsWith("유선프린터(")) {
              normalizedName = "유선프린터";
            }
            // 키오스크존의 장비는 괄호와 괄호 안 내용을 제거합니다.
            if (z.prefix === "kiosk") {
              normalizedName = normalizedName.replace(/\s*\([^)]*\)/g, "");
            }
            const exist = aggregatedEquipment.find(eq => eq.name === normalizedName);
            if (exist) {
              exist.count += item.count;
            } else {
              aggregatedEquipment.push({ name: normalizedName, count: item.count });
            }
          });
        });
        const combinedItems = [...aggregatedEquipment, ...aggregatedAccessories];
        document.getElementById("output-summary-content").innerText =
          combinedItems.length
            ? combinedItems.map(item => {
                // "영수증 2봉"의 경우, 최종 수량*2로 표시 (예: 수량 2 -> 영수증 4봉)
                let match = item.name.match(/^영수증\s*(\d+)\s*봉$/);
                if (match) {
                  let factor = parseInt(match[1]);
                  return `영수증 ${factor * item.count}봉`;
                }
                return `${item.name} ${item.count}EA`;
              }).join(", ")
            : "출고 목록이 생성되지 않았습니다.";
      }
      
      function resetAll() {
        // 모든 숫자 입력과 체크박스 초기화
        document.querySelectorAll("input[type='number'], input[type='checkbox']").forEach(input => {
          if (input.type === "checkbox") {
            input.checked = false;
          } else {
            input.value = 0;
          }
        });
        // 각 출력 영역을 기본 메시지로 초기화
        document.getElementById("summary-content").innerText = "장비가 선택되지 않았습니다.";
        document.getElementById("cable-summary-content").innerText = "아직 계산된 부자재가 없습니다.";
        document.getElementById("output-summary-content").innerText = "출고 목록이 생성되지 않았습니다.";
      }
      
      // 초기 실행 시 자동 출력 제거 (장비선택 버튼을 눌렀을 때만 출력)
      // generateSummary();
    </script>
  </body>
</html>
